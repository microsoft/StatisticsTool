{"version":3,"file":"ngx-collapse.umd.js","sources":["ng://ngx-collapse/lib/collapse-content.directive.ts","ng://ngx-collapse/lib/collapse-ctrl.directive.ts","ng://ngx-collapse/lib/ngx-collapse.module.ts"],"sourcesContent":["import {\r\n  Directive,\r\n  OnInit,\r\n  ElementRef,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  TemplateRef\r\n} from '@angular/core';\r\n\r\n// tslint:disable-next-line: directive-selector\r\n@Directive({ selector: '[collapseContent]', exportAs: 'collapseContent' })\r\nexport class CollapseContentDirective implements OnInit {\r\n  private nextIsOpen = null;\r\n\r\n  private _open = false;\r\n\r\n  private getHTMLEL(): HTMLElement {\r\n    return this.elementRef.nativeElement;\r\n  }\r\n\r\n\r\n  constructor(private elementRef: ElementRef) {}\r\n\r\n\r\n  ngOnInit() {\r\n    this.getHTMLEL().classList.add('collapse');\r\n  }\r\n\r\n  @HostListener('transitionend')\r\n  onTransitionComplete() {\r\n    const element: HTMLElement = this.getHTMLEL();\r\n    if (this.nextIsOpen == true) {\r\n      element.style.height = '';\r\n      // this.collapsing = false;\r\n      element.classList.remove('collapsing');\r\n      element.classList.add('collapse');\r\n      // this.collapse = true;\r\n      element.classList.add('show');\r\n    } else if (this.nextIsOpen == false) {\r\n      // this.collapsing = false;\r\n      element.classList.remove('collapsing');\r\n      element.classList.add('collapse');\r\n      // this.collapse = true;\r\n    }\r\n  }\r\n\r\n  hide() {\r\n    this.nextIsOpen = false;\r\n    this._open = false;\r\n    const element: HTMLElement = this.getHTMLEL();\r\n\r\n    // // remove collapse show\r\n    element.classList.remove('collapse');\r\n    element.classList.remove('show');\r\n\r\n    const height = element.offsetHeight;\r\n    element.style.height = `${height}px`;\r\n    element.offsetHeight;\r\n\r\n    // // collapsing and transition\r\n    // this.collapsing = true;\r\n    element.classList.add('collapsing');\r\n    element.style.height = '';\r\n  }\r\n\r\n  show() {\r\n    this.nextIsOpen = true;\r\n    this._open = true;\r\n\r\n    const element: HTMLElement = this.getHTMLEL();\r\n\r\n    // this.collapse = false;\r\n    // this.collapsing = true;\r\n    element.classList.remove('collapse');\r\n    element.classList.add('collapsing');\r\n\r\n    const height = element.scrollHeight;\r\n    element.style.height = `${height}px`;\r\n  }\r\n\r\n  toggle() {\r\n    const element: HTMLElement = this.getHTMLEL();\r\n    element.classList.contains('show') ?\r\n      this.hide() :\r\n      this.show() ;\r\n  }\r\n\r\n  get open() {\r\n    return this._open || this.getHTMLEL().classList.contains('show');\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  OnInit,\r\n  ElementRef,\r\n  HostBinding,\r\n  HostListener,\r\n  Input\r\n} from '@angular/core';\r\nimport { CollapseContentDirective } from './collapse-content.directive';\r\n\r\n// tslint:disable-next-line: directive-selector\r\n@Directive({ selector: '[collapse]' })\r\nexport class CollapseCtrlDirective {\r\n  constructor() {}\r\n\r\n  content: CollapseContentDirective[];\r\n\r\n  @Input('collapse')\r\n  public set contentRef(\r\n    v: CollapseContentDirective | CollapseContentDirective[]\r\n  ) {\r\n    if (v instanceof CollapseContentDirective ) {\r\n      this.content = Array.of(v);\r\n    } else if ( Array.isArray(v)) {\r\n      this.content = v.filter(c => c instanceof CollapseContentDirective);\r\n    }\r\n  }\r\n\r\n\r\n  // @HostBinding('class.expand')\r\n  private expand = false;\r\n\r\n  @HostBinding('class.collapsed')\r\n  get collapsed() {\r\n    return !this.content.every( c => c.open );\r\n  }\r\n\r\n  @HostListener('click') onCLick() {\r\n    this.expand = !this.content.every(c => c.open);\r\n    if (!this.content) {\r\n      return;\r\n    }\r\n\r\n    this.content.forEach(c => c.toggle());\r\n  }\r\n\r\n  hide(c: CollapseContentDirective) {\r\n    c.hide();\r\n  }\r\n\r\n  show(c: CollapseContentDirective) {\r\n    c.show();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CollapseContentDirective } from './collapse-content.directive';\nimport { CollapseCtrlDirective } from './collapse-ctrl.directive';\n\n\n\n@NgModule({\n  declarations: [ CollapseCtrlDirective, CollapseContentDirective],\n  imports: [\n  ],\n  exports: [ CollapseCtrlDirective, CollapseContentDirective]\n})\nexport class NgxCollapseModule { }\n"],"names":["Directive","ElementRef","HostListener","Input","HostBinding","NgModule"],"mappings":"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"}