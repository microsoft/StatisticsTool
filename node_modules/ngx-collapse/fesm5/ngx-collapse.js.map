{"version":3,"file":"ngx-collapse.js","sources":["ng://ngx-collapse/lib/collapse-content.directive.ts","ng://ngx-collapse/lib/collapse-ctrl.directive.ts","ng://ngx-collapse/lib/ngx-collapse.module.ts"],"sourcesContent":["import {\r\n  Directive,\r\n  OnInit,\r\n  ElementRef,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  TemplateRef\r\n} from '@angular/core';\r\n\r\n// tslint:disable-next-line: directive-selector\r\n@Directive({ selector: '[collapseContent]', exportAs: 'collapseContent' })\r\nexport class CollapseContentDirective implements OnInit {\r\n  private nextIsOpen = null;\r\n\r\n  private _open = false;\r\n\r\n  private getHTMLEL(): HTMLElement {\r\n    return this.elementRef.nativeElement;\r\n  }\r\n\r\n\r\n  constructor(private elementRef: ElementRef) {}\r\n\r\n\r\n  ngOnInit() {\r\n    this.getHTMLEL().classList.add('collapse');\r\n  }\r\n\r\n  @HostListener('transitionend')\r\n  onTransitionComplete() {\r\n    const element: HTMLElement = this.getHTMLEL();\r\n    if (this.nextIsOpen == true) {\r\n      element.style.height = '';\r\n      // this.collapsing = false;\r\n      element.classList.remove('collapsing');\r\n      element.classList.add('collapse');\r\n      // this.collapse = true;\r\n      element.classList.add('show');\r\n    } else if (this.nextIsOpen == false) {\r\n      // this.collapsing = false;\r\n      element.classList.remove('collapsing');\r\n      element.classList.add('collapse');\r\n      // this.collapse = true;\r\n    }\r\n  }\r\n\r\n  hide() {\r\n    this.nextIsOpen = false;\r\n    this._open = false;\r\n    const element: HTMLElement = this.getHTMLEL();\r\n\r\n    // // remove collapse show\r\n    element.classList.remove('collapse');\r\n    element.classList.remove('show');\r\n\r\n    const height = element.offsetHeight;\r\n    element.style.height = `${height}px`;\r\n    element.offsetHeight;\r\n\r\n    // // collapsing and transition\r\n    // this.collapsing = true;\r\n    element.classList.add('collapsing');\r\n    element.style.height = '';\r\n  }\r\n\r\n  show() {\r\n    this.nextIsOpen = true;\r\n    this._open = true;\r\n\r\n    const element: HTMLElement = this.getHTMLEL();\r\n\r\n    // this.collapse = false;\r\n    // this.collapsing = true;\r\n    element.classList.remove('collapse');\r\n    element.classList.add('collapsing');\r\n\r\n    const height = element.scrollHeight;\r\n    element.style.height = `${height}px`;\r\n  }\r\n\r\n  toggle() {\r\n    const element: HTMLElement = this.getHTMLEL();\r\n    element.classList.contains('show') ?\r\n      this.hide() :\r\n      this.show() ;\r\n  }\r\n\r\n  get open() {\r\n    return this._open || this.getHTMLEL().classList.contains('show');\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  OnInit,\r\n  ElementRef,\r\n  HostBinding,\r\n  HostListener,\r\n  Input\r\n} from '@angular/core';\r\nimport { CollapseContentDirective } from './collapse-content.directive';\r\n\r\n// tslint:disable-next-line: directive-selector\r\n@Directive({ selector: '[collapse]' })\r\nexport class CollapseCtrlDirective {\r\n  constructor() {}\r\n\r\n  content: CollapseContentDirective[];\r\n\r\n  @Input('collapse')\r\n  public set contentRef(\r\n    v: CollapseContentDirective | CollapseContentDirective[]\r\n  ) {\r\n    if (v instanceof CollapseContentDirective ) {\r\n      this.content = Array.of(v);\r\n    } else if ( Array.isArray(v)) {\r\n      this.content = v.filter(c => c instanceof CollapseContentDirective);\r\n    }\r\n  }\r\n\r\n\r\n  // @HostBinding('class.expand')\r\n  private expand = false;\r\n\r\n  @HostBinding('class.collapsed')\r\n  get collapsed() {\r\n    return !this.content.every( c => c.open );\r\n  }\r\n\r\n  @HostListener('click') onCLick() {\r\n    this.expand = !this.content.every(c => c.open);\r\n    if (!this.content) {\r\n      return;\r\n    }\r\n\r\n    this.content.forEach(c => c.toggle());\r\n  }\r\n\r\n  hide(c: CollapseContentDirective) {\r\n    c.hide();\r\n  }\r\n\r\n  show(c: CollapseContentDirective) {\r\n    c.show();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CollapseContentDirective } from './collapse-content.directive';\nimport { CollapseCtrlDirective } from './collapse-ctrl.directive';\n\n\n\n@NgModule({\n  declarations: [ CollapseCtrlDirective, CollapseContentDirective],\n  imports: [\n  ],\n  exports: [ CollapseCtrlDirective, CollapseContentDirective]\n})\nexport class NgxCollapseModule { }\n"],"names":[],"mappings":"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"}