<div style="height:100%">
    <div style="width:100%;
                height:50px;
                border:1px solid lightgray;
                border-radius: 4px;
                color:#182a69;
                background-color: #E4F0F5;
                position: sticky;
                z-index:0;
                top:0px">
        <div class="template-selection" style="margin-left: 10px;padding-top: 8px;">
            <div style="display: flex;width:100%;height: 40px;">
                <div class="back-icon" style="margin-top:-2px;width:40px">
                    <img [src]="backImgSrc"
                        (mouseover)="backImgSrc = 'assets/back-icon-orange.svg'"
                        (mouseout)="backImgSrc = 'assets/back-icon-blue.svg'"
                        style="width: 33px;height:33px;margin-top: 3px;cursor: pointer;" 
                        title="Back"
                        class="back"
                        (click)="back()">
                </div>
                <div style="margin-left:5px">
                    <h3 style="font-weight: bold;">NEW REPORT</h3>
                </div>
            </div>
        </div>

        <div style="display: flex;">

            <div class="form-container">
                <div class="form-header">
                    Crate New Report 
                </div>
                <div class="form-content">
                    <div class="main-div">
                        <div class="input-label">
                            <label for="reports_suites" style="font-weight: bold">Reports Suites:</label>
                          </div>
                          <div class="select-input">
                            <select class="form-select form-select-sm" id="reports_suites"
                                    [(ngModel)]="newReportService.selectedSuite"
                                    (change)="newReportService.onSuiteSelected($event)"
                                    required #suiteSelect="ngModel"
                                    [ngClass]="{
                                        'is-invalid': (suiteSelect.invalid && suiteSelect.touched) || (suiteSelect.touched && !isSelectSuiteValid()),
                                        'is-valid': suiteSelect.valid && suiteSelect.touched && isSelectSuiteValid()
                                    }"
                                    >
                                    <option *ngFor="let suite of newReportService.suites"
                                                    value="{{suite}}"
                                            >{{suite}}
                                    </option>
                            </select>
                          </div>
                        
                        <div class="combined-section">
                            <div class="scrollable-div" style="border-bottom:1px solid lightgray;background: white;">
                                <div class="scrollable-content">
                                    <ng-container *ngFor="let config of newReportService.configs">
                                        <div class="form-check">
                                            <input class="form-check-input" 
                                                    type="checkbox" 
                                                    [checked]="newReportService.isConfigSelected(config)"
                                                    (change)="newReportService.configSelectionChanged($event,config)"
                                            />
                                            <label class="form-check-label" (click)="newReportService.showConfig(config)" 
                                                    style="cursor: pointer;
                                                            color: blue;
                                                            text-decoration: underline;">{{config}}</label>
                                            </div>
                                    </ng-container>
                                </div>
                            </div>
                            <div class="link-button" style="display:flex">
                                <a href="#">Save Suite</a>  <span class="separator">|</span> <a href="#">Add Configuration</a>
                            </div>
                        </div>
                        <div class="text-inputs">
                            <div class="input-sm">
                                <label for="predictions_directory" style="width:50%;font-weight: bold">Predictions Directory:</label>
                                <input type="text" class="form-control input-sm" id="predictions_directory" 
                                       placeholder="Local directory or blob folder" name="predictions_directory"
                                       minlength="3" required #predictionsDirectoryInput="ngModel"
                                       [(ngModel)]="newReportService.predictionsDirectory"
                                        [ngClass]="{
                                            'is-invalid': predictionsDirectoryInput.invalid && predictionsDirectoryInput.touched,
                                            'is-valid': predictionsDirectoryInput.valid && predictionsDirectoryInput.touched
                                        }"
                                       >
                            </div>
                            <div class="input-sm">
                                <label for="ground_truth_directory" style="width:50%;font-weight: bold">Ground Truth Directory:</label>
                                <input type="text" class="form-control input-sm" id="ground_truth_directory" placeholder="Leave blank if GT is from annotation store" 
                                        name="ground_truth_directory"
                                        minlength="3" required #groundTruthDirectoryInput="ngModel"
                                        [(ngModel)]="newReportService.groundTruthDirectory"
                                        [ngClass]="{
                                            'is-invalid': groundTruthDirectoryInput.invalid && groundTruthDirectoryInput.touched,
                                            'is-valid': groundTruthDirectoryInput.valid && groundTruthDirectoryInput.touched
                                        }">
                            </div>
                            <div class="input-sm">
                                <label for="reporter_output_directory" style="width:50%;font-weight: bold;">Reporter Output Directory:</label>
                                <input type="text" class="form-control input-sm" id="reporter_output_directory" 
                                       placeholder="" name="reporter_output_directory"
                                       minlength="3" required #reporterOutputDirectoryInput="ngModel"
                                        [(ngModel)]="newReportService.reporterOutputDirectory"
                                        [ngClass]="{
                                            'is-invalid': reporterOutputDirectoryInput.invalid && reporterOutputDirectoryInput.touched,
                                            'is-valid': reporterOutputDirectoryInput.valid && reporterOutputDirectoryInput.touched}"
                                        
                                       >
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-footer">
                    <button type="button"  style="margin-bottom: 5px;"
                             class="btn btn btn-primary btn-mdcd">Create Report</button>
                </div>
            </div>
            <div style="width:30%;margin-top: 20px;position: absolute;right: 20px;"  cdkDrag>
                <configuration-viewer></configuration-viewer>
            </div>
            <!--<div style="height: 60.7vh;border:1px solid lightgray;border-radius: 3px;width:30%;margin-top: 29px;position: absolute;right: 120px;">
                CONFIGURATION CONTENT
            </div>-->

        </div>
        
        <div style="width:40%;height:15vh;margin-top: 10px;border:1px dashed lightgray;background: white;margin-left: 20px;">
            RESULTS                    
        </div>
    </div>
</div>